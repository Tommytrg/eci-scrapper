// const _ = require('lodash')
// const jsonfile = require('jsonfile')
// const { readJsonFilesFromDir } = require('./utils/read-json-files-from-dir')

// function getIngredients() {
//   const products = readJsonFilesFromDir('./data/products')
//   let data = filter(products)

//   jsonfile.writeFileSync('./src/static/ingredients.json', data)
// }

// function filter(array){
//   return _.chain(array)
//   .reduce((acc, act) => acc.concat(...act), [])
//   .filter(product => !!product.ingredients.length)
//   .map(product => product.ingredients)
//   .reduce((acc, act) => acc.concat(...act), [])
//   .map(ingredients => ingredients.replace('Ingredientes: ', ''))
//   .map(ingredients => ingredients.split(','))
//   .reduce((acc, act) => acc.concat(...act), [])
//   .map(ingredient => ingredient.trim())
//   .filter(ingredient => !!ingredient)
//   .map(ingredient => ingredient.toLowerCase())
//   .map(ingredient => ingredient
//     .replace('á', 'a')
//     .replace('é', 'e')
//     .replace('í', 'i')
//     .replace('ó', 'o')
//     .replace('ú', 'u')
//     .replace('"', '')
//     .replace("'", '')
//     .replace('(', '')
//     .replace(')', '')
//     .replace('[', '')
//     .replace(']', '')
//     .replace('*', '')
//     .replace('%', '')
//     .replace('$', '')
//     .replace('+', '')
//     .replace(':', '')
//     .replace('/', '')
//     .replace('\\', '')
//     .replace('.', '')
//     .replace(';', '')
//     .replace('?', '')
//     .replace('-', '')
//     .replace('  ', '')
//     .replace('=', '')

//     .replace('ecologico', '')
//     .replace('ecologica', '')
//     .replace('consultar trazas de alergenos', '')
//     .replace('puede contener cacahuete y frutos secos', '')
//     .replace('puede contener cacahuete', '')
//     .replace('puede contener frutos secos', '')
//     .replace('puede contener lactosa')

//     .replace('puede contener trazas de leche', '')
//     .replace('* contribuye a la producción de ', '')

//     .replace(/\d/g, '')
//     .trim()
//   )
//   .filter(ingredient => ingredient.match(/[a-z]/i))
//   .filter(ingredient => !!ingredient)
//   .uniq()
//   .sort()
//   .value()

// getIngredients()
